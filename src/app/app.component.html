<div class="wrapper">
  <aside
    class="sidenav navbar navbar-vertical navbar-custom navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3  bg-gradient-dark"
    id="sidenav-main">
    <app-categories
      (selectCategory)="onSelectCategory($event)"
      (deleteCategory)="onDeleteCategory($event)"
      (updateCategory)="onUpdateCategory($event)"
      (addCategory)="onAddCategory($event)"
      (searchCategory)="onSearchCategory($event)"

      [selectedCategory]="selectedCategory"
      [categories]="categories"
    >
    </app-categories>
  </aside>

  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">

    <!-- Navbar -->
    <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur"
         navbar-scroll="true">
      <app-header
      [categoryName]="selectedCategory ? selectedCategory.title: 'Все'"
      (toggleStat)="toggleStat($event)"
      [showStat]="showStat"
      ></app-header>
    </nav>
    <!-- End Navbar -->
    <div class="container-fluid py-4">
      <app-statistic
      [totalTasksInCategory]="totalTasksCountInCategory"
      [completeTasksInCategory]="completedCountInCategory"
      [uncompleteTasksInCategory]="uncompletedCountInCategory"
      [showStat]="showStat"
      ></app-statistic>
      <div class="row mb-4">
        <div class="col col-mb-4">
          <app-tasks
            (updateTask)="onUpdateTask($event)"
            (deleteTask)="onDeleteTask($event)"
            (addTask)="onAddTask($event)"

            (selectCategory)="onSelectCategory($event)"
            [selectedCategory]="selectedCategory"

            (filterByStatus)="onFilterTasksByStatus($event)"
            (filterByTitle)="onSearchTasks($event)"
            (filterByPriority)="onFilterTasksByPriority($event)"
            [tasks]="tasks"
            [priorities]="priorities"
          ></app-tasks>
        </div>
      </div>
      <app-footer></app-footer>
    </div>
  </main>
</div>
